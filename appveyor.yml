image: Visual Studio 2017
platform: x64
environment:
  nodejs_version: 8
install:
  - ps: Install-Product node $env:nodejs_version
  - npm install -g electron-forge
  - npm install
before_build:
  - npm run sass-compile
for:
-
  on:
    branch: master
    appveyor_pull_request_number: false
  build_script:
    - electron-forge publish
-
  on:
    appveyor_pull_request_number: true
  build_script:
    - electron-forge package
